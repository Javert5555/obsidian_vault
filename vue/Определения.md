## Состояния компонента (Динамические значения)

**SFC** (однофайловый компонент Vue (SFC)) - это многократно используемый самодостаточный блок кода, который включает в себя HTML, CSS и JavaScript, которые принадлежат друг другу и записаны внутри файла `.vue`.

**Декларативный рендеринг**: используя синтаксис шаблонов, расширяющий HTML, мы можем описать, как должен выглядеть HTML на основе состояния JavaScript. Когда состояние меняется, HTML обновляется автоматически.

Состояния, которые могут запускать обновления при изменении, считаются **реактивными**. Мы можем объявить реактивное состояние, используя API Vue `reactive()`. Объекты, созданные с помощью `reactive()`, представляют собой JavaScript [Proxies](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Proxy), которые работают так же, как и обычные объекты.

`reactive()` работает только с объектами (включая массивы и встроенные типы, такие как `Map` и `Set`). С другой стороны, `ref()` может принимать любой тип значения и создавать объект, который предоставляет доступ к внутреннему значению через свойство `.value`.

```vue
<script setup>
import { reactive, ref } from 'vue'

const counter = reactive({ count: 0 })
const message = ref('Привет мир!')
message.value = 'Новый мир'
</script>

<template>
  <h1>{{ message }}</h1>
  <p>Количество: {{ counter.count }}</p>
</template>
```

Обратите внимание, что нам не нужно использовать `.value` при обращении к ссылке `message` в шаблонах: она автоматически разворачивается для более лаконичного использования.

Содержимое внутри двойных фигурных скобок не ограничивается только идентификаторами или путями - мы можем использовать любое допустимое выражение JavaScript:
## Директивы

Чтобы привязать атрибут к динамическому значению, мы используем директиву `v-bind`:

``` template
<div v-bind:id="dynamicId"></div>
```

**Директива** - это специальный атрибут, который начинается с префикса `v-`. Они являются частью синтаксиса шаблонов Vue. Подобно текстовым интерполяциям, значения директив представляют собой выражения JavaScript, которые имеют доступ к состоянию компонента.

Часть после двоеточия (`:id`) является "аргументом" директивы. Здесь атрибут `id` элемента будет синхронизирован со свойством `dynamicId` из состояния компонента.

Поскольку `v-bind` используется так часто, у него есть специальный сокращенный синтаксис:

``` template
<div :id="dynamicId"></div>
```

``` vue
<script setup>
import { ref } from 'vue'

const titleClass = ref('title')
</script>

<template>
  <h1 :class="titleClass">Сделай меня красным</h1> <!-- Добавьте сюда динамическую привязку класса -->
</template>

<style>
.title {
  color: red;
}
</style>
```

# Слушатели событий

Мы можем прослушивать события DOM, используя директиву `v-on`:

template

```
<button v-on:click="increment">{{ count }}</button>
```

Из-за его частого использования `v-on` также имеет сокращенный синтаксис:

template

```
<button @click="increment">{{ count }}</button>
```

Здесь `increment` ссылается на функцию, объявленную в `<script setup>`:

vue

```
<script setup>
import { ref } from 'vue'

const count = ref(0)

function increment() {
  // обновление состояния компонента
  count.value++
}
</script>
```

Внутри функции мы можем обновить состояние компонента, изменив ссылки.

Обработчики событий также могут использовать встроенные выражения и могут упростить общие задачи с помощью модификаторов.


```vue
<script setup>
import { ref } from 'vue'

const count = ref(0)
const increment = () => count.value++
</script>

<template>
  <!-- сделайте так, чтобы кнопка работала -->
  <button @click='increment'>Количество: {{ count }}</button>
</template>
```